# Leader Dojo v0.5 产品需求文档（PRD）

> **产品定位一句话：**  
> **Leader Dojo** 是为「同时管理多个关键项目、经常进行高风险对话」的领导者 / 创始人 / 投资人打造的 **个人领导力练功房（Practice OS）**。通过项目时间线卡片（Entries）、承诺台账（Commitments：I Owe / Waiting For）、会前简报与结构化反思，帮你在真实项目和关键对话中持续打磨决策、沟通与守约能力，为未来的对话教练（Conversation Coach / Sparring）功能打下数据和习惯基础。

> **域名（规划）：** `joinleaderdojo.com`

---

## 一、背景与问题

### 1.1 典型用户画像

**Builder-type 领导者（在一线打仗的领导者）：**

- 创始人 / CEO / 联合创始人；
    
- BU Head / GM / 产品线负责人（带 P&L / 多项目）；
    
- 投资人 / 小基金 GP / 顾问（同时跟进 10–30 个项目）；
    
- 加速器负责人 / 教练。
    

共性特征：

- 同时管理 5–30 个关键项目 / 团队 / 关系；
    
- 每周有 10+ 场关键对话：1:1、项目会、投后沟通、棘手谈话、晋升/反馈会议等；
    
- 工作价值主要体现在：**决策、反馈、资源协调、沟通**，而不是亲自执行。
    
- 已经不错，但仍在刻意「打怪升级」，愿意在真实战场中练功，而不是只看书/上课。
    

### 1.2 当前痛点

1. **信息碎片化，无法形成“练功记录”**
    
    - 重要会议记录散落在日历、邮件、微信、Notion、随手笔记中；
        
    - 很难在某个项目上快速回答：
        
        - 上次聊了什么？
            
        - 当时达成了哪些共识？
            
        - 谁对谁做了哪些承诺？
            
    - 更难在事后反思：“那次对话/决策我有没有更好的做法？”
        
2. **承诺难追踪（I Owe / Waiting For 不清晰）**
    
    - 你对别人说过很多“我来看看”“我介绍一下”“我帮你对齐一下”；
        
    - 别人对你也做了很多承诺：发资料、回邮件、给答复；
        
    - 一周过去，谁欠谁什么已经搞不清楚，只剩 vague guilt 或 vague frustration。
        
3. **项目节奏与关系心跳难把握**
    
    - 手上 10+ 项目：
        
        - 有的很重要但已经 45 天没真正聊过；
            
        - 有的问题正在“沉默期”慢慢酝酿；
            
    - 很多时候是凭印象和情绪临时决定：
        
        - 本周要重点 push 谁？
            
        - 要为哪段关系“回血”？
            
4. **成长无闭环，难以系统提升领导力与对话能力**
    
    - 很多关键对话和重要决策没有被系统沉淀；
        
    - 缺少一条“基于真实行为”的时间线用来练功、复盘：
        
        - 我是如何做决策的？
            
        - 我在棘手对话中容易犯什么模式错误？
            
        - 我在哪些项目上总是守约，在哪些容易拖延？
            

### 1.3 Leader Dojo 的定位

> **Leader Dojo = 多项目领导者的“练功房式操作系统”**  
> **核心：Projects + Entries（项目时间线卡片） + Commitments（承诺台账） + Weekly Rhythm + Reflections +（未来）Sparring / Conversation Coach**

Leader Dojo 不是：

- 传统任务管理器（Todoist / Things）；
    
- TMS / CRM / OKR 工具；
    
- 以课程为中心的领导力培训平台。
    

Leader Dojo 是：

- 你的 **项目 & 关系中枢面板**：看到哪些项目活跃、哪些沉默、哪些承诺在裸奔；
    
- 你的 **承诺台账（Commitment Ledger）**：清晰区分 I Owe / Waiting For；
    
- 你的 **决策 & 对话练功记录**：卡片化记录每次关键对话与决策过程；
    
- 未来对话教练（Conversation Coach / Sparring）的数据基座：
    
    - 在有了稳定的项目、承诺与反思结构后，
        
    - 才能基于真实 context 做高质量的对话模拟与反馈，让“练功”不脱离真实战场。
        

### 1.4 v0.5 目标

以单用户（创始人本人等）为核心，v0.5 要实现：

1. **会后 5 分钟闭环**：
    
    - 从一场会议/长对话，在 5 分钟内完成：
        
        - 创建项目卡片（Entry）；
            
        - 生成结构化摘要；
            
        - 清晰列出“我欠谁什么 / 谁欠我什么”的承诺；
            
        - 将承诺写入 Commitments。
            
2. **会前 2 分钟进入状态**：
    
    - 针对任一项目，一键生成会前 Briefing 卡：
        
        - 最近几次关键事件；
            
        - 自己未履行的承诺（I Owe）；
            
        - 需要跟进的 Waiting For；
            
        - 建议本次对话重点。
            
3. **每周节奏清晰**：
    
    - Dashboard 上自动生成「本周优先行动」：
        
        - Top 5–10 个最有 leverage 的 I Owe 承诺；
            
        - 1–3 个需要深聊的项目（关系心跳 + 承诺聚集）。
            
4. **承诺 & 决策可追踪，可复盘**：
    
    - 重要决策与承诺有明确的卡片记录；
        
    - 月度反思中可看到：
        
        - 哪些项目你连续守约；
            
        - 哪些项目你经常拖延或被别人拖延；
            
        - 哪些决策的结果与当初假设差异最大。
            
5. **输入无痛，移动可用，为未来对话练功打基础**：
    
    - Quick Capture 路由 `/capture`，手机上一屏完成：
        
        - 选项目 → 写一段 Self Note → 保存成 Entry；
            
    - 后续对话 Coach / Sparring 模块可以直接基于这些项目与卡片，进行有 context 的练习。
        

---

## 二、核心使用场景（Killer Use Cases）

> 所有场景都围绕 **Project + Entries + Commitments + Weekly Rhythm + Reflections** 展开，未来 Conversation Coach 将在这些基础数据之上提供更强的“对话练功”能力。

### 2.1 会后 5 分钟闭环：Meeting → Entry → Commitments

**场景：**

- 刚和某个创始人/团队开完 45–60 分钟会议，有录音转写或手写笔记；
    
- 希望：
    
    - 快速抓住要点；
        
    - 形成可以回看的卡片；
        
    - 不遗漏任何一条承诺；
        
    - 为未来“复盘这次对话/决策”留下素材。
        

**用户操作：**

1. 在 Projects 列表中打开对应 Project；
    
2. 点击「新增卡片」（Add Entry）；
    
3. 选择 `kind = Meeting`；
    
4. 粘贴原始记录（转录 / Bullet Notes）；
    
5. 点击「生成摘要与承诺」。
    

**系统行为：**

- 创建一条 `project_entries` 记录：
    
    - `kind = 'meeting'`
        
    - `raw_content` = 原始记录
        
    - `occurred_at` 默认为当前时间（可修改）。
        
- 调用 LLM 生成：
    
    - `ai_summary`：结构化摘要（背景/目标、讨论重点、达成共识、未决问题）；
        
    - `ai_actions`：建议承诺列表，每条包含：
        
        - 建议方向：`i_owe` / `waiting_for`；
            
        - 文本描述；
            
        - 建议对方（counterparty，文本）。
            
- UI：
    
    - Meeting 卡片展示摘要；
        
    - 右侧列出建议承诺，用户可以：
        
        - 调整方向（I Owe / Waiting For）；
            
        - 编辑文本；
            
        - 选 Project（默认当前）；
            
        - 选填 due date / importance / counterparty；
            
        - 一键生成 Commitment。
            

**价值：**

- 会后 5 分钟内完成“记录 + 摘要 + 承诺整理”；
    
- 每条承诺可追溯到具体会议与原句；
    
- 为未来的 Dojo 练功（复盘这次沟通/决策）留下清晰素材。
    

---

### 2.2 会前 2 分钟 Briefing：Entry Timeline → 会前卡片

**场景：**

- 明天要和某个项目方 / 被投企业 / 业务负责人进行 1:1 或 Review；
    
- 中间已经隔了几周到几个月，印象模糊；
    
- 你希望在进入会议前就处于“高质量 sparring”状态，而不是临时翻聊天记录。
    

**用户操作：**

1. 打开该 Project 详情页；
    
2. 点击「会前准备（Prep）」按钮；
    
3. 可选时间范围（如最近 90 天）。
    

**系统行为：**

- 从 `project_entries` 中选取该项目最近 N 条关键卡片：
    
    - `kind in (meeting, update, self_note, decision)`；
        
- 汇总生成一张「Briefing 卡」：
    
    - 当前项目一句话状态；
        
    - 时间线上的关键事件列表；
        
    - 有代表性的 Self Notes（你之前写下的判断/担忧）；
        
    - 该项目下未完成的 **I Owe** 承诺列表；
        
    - 近期大量 Pending 的 **Waiting For** 承诺列表；
        
    - 建议本次对话的 3–5 个重点议题（可结合未来对话 Coach 模块使用）。
        

**价值：**

- 2–5 分钟内进入状态，清楚知道：
    
    - 过去发生了什么；
        
    - 自己是怎么想的；
        
    - 自己欠了什么承诺；
        
    - 这次对话应该“练哪一招”。
        

---

### 2.3 每周节奏：Weekly Focus & Commitment Radar

**场景：**

- 周日晚上或周一早上，想规划这一周；
    
- 手上多个项目、几十条承诺，很难有效排序；
    
- 你希望 Weekly Planning 本身就像一次轻量 Dojo 练功。
    

**用户操作：**

1. 打开 Dashboard；
    
2. 查看「本周优先行动」区块（可刷新 / 再生成）。
    

**系统行为：**

- 聚合所有未完成的 `commitments`：
    
    - `direction = 'i_owe'`；
        
    - `status in (open, in_progress)`；
        
- 简单规则权重：
    
    - importance（high > medium > low）；
        
    - due_date（即将到期/逾期权重更高）；
        
    - 所属项目 priority；
        
- 输出：
    
    - Top 5–10 个 I Owe 类型的高优先级承诺；
        
    - 可选：标注哪些与长期目标/关键项目高度相关。
        

**价值：**

- Weekly Focus 不是凭感觉，而是基于事实（承诺 + 项目优先级）；
    
- 帮你养成“以承诺和项目节奏为中心”的工作习惯，为未来更高阶的 Coach 建立数据。
    

---

### 2.4 关系心跳：长期沉默项目的预警

**场景：**

- 有些项目你在心里知道“挺重要”，但被其他琐事盖过去，已经 45+ 天没真正沟通；
    
- 问题往往在“沉默期”慢慢酝酿；
    
- 未来对话教练要挑选“最值得练功的关系”，也需要这些信息。
    

**系统行为：**

- 写入任何 `project_entries` 时更新 `projects.last_active_at`；
    
- Dashboard 的「需要关注的项目」区块：
    
    - 条件示例：
        
        - `priority >= 3`；
            
        - `now - last_active_at > 45 天`；
            
    - 展示：
        
        - 项目名称 / 优先级 / last_active_at；
            
        - 最近一条 Entry 摘要；
            
        - 未完成 Commitments 统计（I Owe / Waiting For 数量）；
            
        - 建议下一步动作（约一次 catch-up call / 写 Self Note 总结判断等）。
            

**价值：**

- 把“沉默风险”从模糊直觉变成显性信号；
    
- 有利于未来在 Dojo 中设计“关系修复 / tough talk”类的练功模块。
    

---

### 2.5 承诺台账：I Owe / Waiting For 的双向清晰

**场景：**

- 想知道：
    
    - "我目前对多少人/项目有未完成承诺？"
        
    - "有哪些重要事情其实是别人欠我，但我没有跟进？"
        
    - "我最近完成了哪些承诺？履约情况如何？"
        

**用户操作：**

1. 打开 Commitments 页面；
    
2. 切换 Tabs：
    
    - `I Owe`：我欠别人的；
        
    - `Waiting For`：别人欠我的。
        

**系统行为：**

- **完成统计卡片**（新增）：
    
    - 显示已完成承诺数量和近期完成趋势；
        
    - 按完成日期分组展示（今天、本周、本月）；
        
    - 一目了然看到履约成果；
        
- **最近完成历史**（新增）：
    
    - 可折叠的已完成承诺列表；
        
    - 按完成日期智能分组（今天完成、昨天完成、本周完成、更早）；
        
    - 支持重新打开已完成的承诺；
        
- 列表视图：
    
    - title, project, counterparty, due_date, importance, urgency, status；
        
- 支持：
    
    - 按 project / status 过滤；
        
    - 按 due_date / importance 排序；
        
    - 快捷操作：
        
        - Mark done / in progress；
            
        - 修改 due_date / importance；
            
        - 编辑 notes。
            

**价值：**

- 你拥有一份"承诺总账"，而不是零散 todo；
    
- **看到履约成果，正向激励**：完成统计让你看到自己的守约记录，建立正向反馈循环；
    
- **历史可追溯**：随时查看过去完成了什么，回顾承诺履行轨迹；
    
- 未来 Dojo 模式可以：
    
    - 基于某人的 Waiting For 列表，设计"如何跟进而不 push 过猛"的对话练功；
        
    - 基于你反复拖延的 I Owe，设计"如何说不 / 重设期待"的对话场景。
        

---

### 2.6 Self Notes：把直觉和担忧纳入时间线

**场景：**

- 你对某个项目有强烈直觉/隐忧，想简单记下：“这个团队在执行上让我担心”；
    
- 不对应任何一场具体会议，也不想开一个单独文档。
    

**用户操作：**

1. 在 Project 详情页点击「新增卡片」；
    
2. 选择 `kind = Self Note`；
    
3. 输入一段自由文本，选填：
    
    - 标题（如“对产品路线的担忧”）；
        
    - tag 或 mood（如 optimistic / uneasy / confused）。
        

**系统行为：**

- 创建一条 `project_entries(kind='self_note')`；
    
- 时间线上以特殊样式展示；
    
- 会前 Briefing 与反思中可引用这些 Self Notes 作为“当时判断/情绪”的快照。
    

**价值：**

- 将直觉与担忧纳入记录，可被未来结果验证；
    
- 对话 Coach 可以基于这些 Self Notes 提示：“你带着这些情绪去对话，可能导致什么？”
    

---

### 2.7 决策日志：决策 - 假设 - 结果 的闭环

**场景：**

- 你做出一条重要决策（投/不投、是否推进、组织调整等），希望未来能对照当时逻辑复盘。
    

**用户操作：**

- 在某个 Entry 上：
    
    - 选择 `kind = 'decision'` 或勾选“标记为重要决策”；
        
    - 填写决策信息：
        
        - 决策内容；
            
        - 当时理由/判断；
            
        - 核心假设与未知；
            
        - 约定复盘时间（如 3 个月后）。
            

**系统行为：**

- 将这些信息存入该 Entry 的结构化字段；
    
- 到期时在 Dashboard 提醒复盘：
    
    - 提醒内容包含：当初的决策记录 + 当前项目状态；
        
- Project 详情中支持只看 `kind=decision` 的卡片。
    

**价值：**

- 把“直觉 + 经验”从不可见变成可回顾资产；
    
- 为未来 Dojo 中“决策 Sparring / 决策模式分析”提供训练数据。
    

---

### 2.8 Quick Capture：移动端无痛输入入口

**场景：**

- 刚从咖啡店和创始人聊完，在回地铁的路上；
    
- 想迅速记下几句感受和 TODO，回到家再整理；
    
- 不想打开电脑，也不想在微信/备忘录里写孤岛笔记。
    

**用户操作：**

1. 在手机浏览器打开 `joinleaderdojo.com/capture`；
    
2. 界面：
    
    - Project 下拉 + 快速新建；
        
    - 文本输入框（默认当 Self Note）；
        
    - [保存] 按钮。
        

**系统行为：**

- 若选已有 Project：创建 `kind='self_note'` Entry；
    
- 若输入新 Project 名称：
    
    - 创建 Project（status=active, priority=3）；
        
    - 创建关联的 Self Note Entry；
        
- 移动优先布局：
    
    - 大按钮、大字体，一屏完成输入。
        

**价值：**

- 随时随地“立刻记一手”，将真实战场的瞬间感受纳入 Dojo；
    
- 为未来对话 Coach 提供实时 context（比如某次 tough talk 前的心态 Self Note）。
    

_注：v0.5 不做语音输入 / ASR，仅预留 UI 空间，语音可作为 v0.6+ 迭代。_

---

### 2.9 反思系统：情境化领导力学习

> **核心理念**：反思不是空泛的日记，而是连接真实工作事件与领导力成长的「情境化学习系统」。

#### 2.9.0 反思列表首页体验（新增）

**智能仪表盘**

反思列表页顶部展示关键指标，帮助用户快速掌握反思节奏：

- **反思连续周数（Streak）**：显示连续反思的周数，建立习惯正向激励（如"🔥 3 Week Streak"）；
    
- **本周反思数**：当前周已完成的反思数量；
    
- **周节奏状态**：
    - `On Track`：本周已有反思，保持节奏；
    - `Due Today`：周五或之后，提示本周反思；
    - `Time to Reflect`：超过一周未反思，需要关注；
    - `N Week Streak`：展示连续反思成就；
    
- **高频主题一览**：展示历史反思中出现最多的领导力主题（如 communication、accountability、decision-making）。

**情境化建议（Suggested Reflections）**

系统基于用户行为智能推荐反思：

- **周反思提醒**：若本周未做周反思，显示"Weekly Reflection"建议卡片；
    - 若有连续周数，提示"Keep your N-week streak going!"；
    
- **月末/季末提醒**：月底前 3 天显示月度反思建议，季末显示季度反思建议；
    
- **Quick Check-in**：若本周完全无反思，建议轻量快速反思。

**智能时间分组**

反思列表采用更人性化的时间分组：

- `Today`：今天的反思；
- `This Week`：本周的反思；
- `Last Week`：上周的反思；
- `Earlier This Month`：本月更早的反思；
- `Last Month`：上个月的反思；
- `Older`：更早的反思。

#### 2.9.1 反思类型

**快速反思（Micro-Moments）**

- **触发场景**：
    - 完成重要会议或关键决策后；
    - 完成承诺后；
    - 一天内创建 3+ 条 Entry 后。
    
- **用户操作**：
    - 系统弹出底部卡片，显示单个问题（如"这次决策你有多大把握？"）；
    - 选择情绪状态（自信/不确定/充满能量/疲惫/中性）；
    - 可选：添加一句话感想。
    
- **价值**：
    - 30 秒内完成，零摩擦捕捉关键时刻的直觉与情绪；
    - 自动关联到触发事件（Entry/Commitment），形成可追溯的成长记录。

**周期性反思（定期复盘）**

- **场景**：周末或月末，希望对自己的行为和领导方式有更深认识；
    
- **增强流程**：
    1. **周期选择**：周 / 月 / 季度；
    2. **关键事件选择**（新增）：
        - 系统自动筛选本周期内 3-5 个最值得反思的事件；
        - 用户勾选想要深入反思的 Entries；
    3. **情境化问题**：
        - AI 基于所选事件生成针对性问题；
        - 例如："你记录了关于 [X项目] 的决策，回头看你会有什么不同做法？"
    4. **回答与承诺生成**：
        - 每个回答后可选择"从这个洞察创建承诺"；
    5. **模式总结**：
        - "这是你第 4 次在反思中提到授权问题"。

- **领导力导向的默认问题**（优化）：
    
    问题设计聚焦领导力成长，而非泛泛的日记：
    
    - **周反思**：
        - "这周哪个决策让我最自豪？是什么让它有效？"
        - "我在哪里回避了本应进行的艰难对话？"
        - "我打破了哪个承诺？这说明了我的优先级什么问题？"
        - "这周我帮助谁成长了？谁帮助我成长了？"
        
    - **月反思**：
        - "我守住的承诺 vs 放弃的承诺，呈现什么模式？"
        - "哪段关系变强了？哪段变弱了？为什么？"
        - "我做了哪个决策现在开始不确定了？"
        - "我在哪些地方花时间但没有推动进展？"
        
    - **季度反思**：
        - "和上季度相比，我的领导方式有什么最大转变？"
        - "我的哪些决策产生了最大影响——正面或负面？"
        - "我在回避承担什么责任？"
        - "下个季度如果只能完成一件事，必须是什么？"

**项目反思**

- **场景**：针对某个项目进行专项复盘，特别是在关键里程碑前；
    
- **数据来源**：
    - 该项目所有 Entries；
    - 该项目相关承诺（履行 vs 未履行）；
    - 该项目的 Self Notes 和决策记录；
    - 距离上次项目反思的时间。
    
- **问题示例**（优化）：
    - "我是在领导这个项目还是只是在管理它？区别在哪？"
    - "什么对话能解锁最大的障碍？"
    - "这个项目中我没有培养谁，但应该培养？"
    - "如果我要交接，我会告诉继任者做什么不同的事？"

**关系反思**

- **场景**：针对某个重要关系进行复盘（直接下属、投资组合创始人、关键合作伙伴等）；
    
- **设计原则**：
    - 轻量化：不复制项目的全部功能，聚焦关系维度；
    - 锚定具体事件：关系反思必须关联到具体的 Entries 或 Commitments；
    - 关系健康导向：帮助识别承诺失衡、沟通模式等关系问题。
    
- **数据来源**：
    - 该人员参与的 Entries；
    - 与该人员相关的承诺（I Owe / Waiting For）；
    - 历史反思中提及该人员的内容。

- **问题示例**（优化）：
    - "如果这个人给我的可靠度打分 1-10，他们会打几分？为什么？"
    - "我对他们做了什么承诺——明确的或隐含的——但没有兑现？"
    - "这个人需要我提供什么，但我没有给？"
    - "我一直在回避和他们进行什么对话？"

#### 2.9.2 情绪追踪

- 每次反思可记录当时情绪：
    - 自信（Confident）
    - 不确定（Uncertain）
    - 充满能量（Energized）
    - 疲惫（Drained）
    - 中性（Neutral）
    
- **价值**：
    - 长期追踪情绪趋势，识别消耗精力的项目或关系；
    - 为对话教练提供"带着什么情绪进入对话"的 context。

#### 2.9.3 模式识别与成长追踪

- **领导力主题库**（新增）：
    
    系统内置 15 个核心领导力主题，用于标记和分析反思：
    - accountability（问责）、communication（沟通）、decision-making（决策）
    - delegation（授权）、feedback（反馈）、conflict（冲突处理）
    - prioritization（优先级）、trust（信任）、growth（成长）
    - influence（影响力）、execution（执行力）、vision（愿景）
    - empathy（同理心）、resilience（韧性）、integrity（诚信）

- **智能主题提取**（新增）：
    
    - 基于回答内容自动识别关键词并建议主题标签；
    - 用户可一键添加建议主题或手动添加自定义主题；
    - 主题可随时编辑、删除。

- **主题频率分析**：
    
    - 展示该主题在历史反思中出现的百分比；
    - 识别持续出现的主题模式。
    
- **成长仪表盘**：
    - 反思频率与完成率；
    - 高频主题排行（"你最常反思的是授权问题"）；
    - 从反思生成的承诺完成率；
    - 情绪趋势图。
    
- **盲点发现**：
    - 识别重复出现但未解决的问题；
    - 提示："关于给反馈的反思已出现 5 次，但相关承诺完成率只有 20%"。

#### 2.9.4 反思详情页体验（新增）

**关键洞察摘要**

已完成的反思顶部展示「Key Insights」卡片：

- 自动提取最有意义的回答作为核心洞察引用；
- 展示本次反思的主题标签；
- 显示情绪状态和上下文。

**增强的主题管理**

- 主题区支持：
    - 查看已有主题并一键删除；
    - 基于回答内容智能推荐主题；
    - 快速添加新主题；
    - 显示主题在历史反思中的出现频率。

**关联事件可视化**

- 按事件类型分组展示关联的 Entries（会议、更新、决策等）；
- 显示事件统计数量；
- 展示事件内容预览和状态指示器。

**成长追踪区**

已完成反思底部展示「Growth Tracking」：

- **主题演变**：显示新出现的主题 vs 持续关注的主题；
- **情绪趋势**：与之前同类反思对比，情绪是向好还是下降；
- **一致性追踪**：展示该类型反思的累计次数，鼓励持续反思。

#### 2.9.5 反思与会前准备的整合

- 在生成某项目的会前 Briefing 时，自动引入：
    - 该项目过去的反思洞察；
    - 历史反思中未完成的相关承诺；
    - 例如："3 周前你反思时写道：'需要对这位创始人更直接'"。

#### 2.9.6 提醒策略（Guardrails）

为避免过度打扰，采用分层提醒策略：

| 提醒类型 | 触发条件 | 每日上限 |
|---------|---------|---------|
| 事件后提醒 | 会议/决策后 | 3 次 |
| 被动提示 | Dashboard 卡片 | 1 次 |
| 主动推送 | 周反思到期 | 1 次/周 |

- 如果用户今天已完成反思，不再显示被动提示；
- 用户主动发起的反思不受限制；
- **智能建议**：反思列表页的「Suggested Reflections」区块可由用户手动隐藏。

**价值：**

- 反思不再空泛，而是锚定在真实事件和关系上；
    
- 从"记录"到"行动"：洞察可直接转化为承诺；
    
- **习惯养成**：Streak 机制和智能建议帮助建立稳定的反思节奏；
    
- **领导力聚焦**：问题和主题设计围绕领导力成长核心维度；
    
- 长期沉淀出可量化的"领导力成长时间线"；
    
- 为未来对话教练提供丰富的情境数据。
    

---

## 三、用户与范围

### 3.1 主 Persona（v0.5）

- 单用户：创始人 / builder-type 领导者本人；
    
- 高频 1:1 / 项目沟通 / 决策，不强调团队协同和汇报功能。
    

### 3.2 v0.5 明确不做的内容

- 不做团队多用户协作（无权限体系、无共享空间）；
    
- 不做 LP 报告 / 财务核算等基金功能；
    
- 不做复杂 PM 功能（甘特图、资源排程等）；
    
- 不接入日历/邮件系统（Google Calendar / Email 等）——可在 v0.6+ 实现；
    
- 不做语音输入 / 对话模拟（Conversation Sparring）——本版只打基础。
    

---

## 四、信息架构 & 数据模型

### 4.1 顶层信息架构

- **Dashboard / Home**
    
    - Weekly Focus（本周优先行动：I Owe 承诺）
        
    - 需要关注的 Projects（关系心跳）
        
    - 待复盘决策 / 反思入口
        
- **Projects**
    
    - Project 列表
        
    - Project 详情
        
        - Snapshot（基础信息 + 你的总体评价）
            
        - Timeline（Entries 时间线卡片）
            
        - Commitments Panel（该项目相关承诺）
            
        - Prep 按钮（会前 Briefing）
            
- **People**（v0.5 新增）
    
    - People 列表
        
        - 按关系类型分组筛选
            
        - 搜索（姓名/组织/角色）
            
        - 按活跃度/承诺数量排序
            
    - Person 详情
        
        - 基本信息（姓名、组织、角色、关系类型）
            
        - 承诺面板（I Owe / Waiting For 分组显示）
            
        - 相关 Entries 列表（该人参与的会议/更新）
            
        - 关系备注
            
- **Commitments**
    
    - I Owe / Waiting For / **By Person** 三个视图模式
        
- **Reflections**
    
    - 反思列表（按类型/周期/时间筛选）
        
    - 反思详情（问答、关联事件、生成的承诺）
        
    - 成长洞察仪表盘（Insights Dashboard）
        
    - 快速反思入口（事件后触发、Dashboard 提示）
        
    - 项目反思入口（Project 详情页）
        
    - 关系反思入口（Person 详情页）
        
- **Quick Capture**
    
    - `/capture` 路由，移动优先
        
    - 支持为 Meeting/Update 类型添加参与者（People）
        
- （预留）**Dojo Mode / Sparring**
    
    - v0.6+：以 Projects + Entries + Commitments + People 为基础，扩展对话教练视图。
        

### 4.2 核心数据实体

#### 4.2.1 `projects`

- `id` (uuid, pk)
    
- `name` (text, not null)
    
- `slug` (text, unique, 可选)
    
- `status` (text, default 'active')
    
    - exploring / active / paused / closed
        
- `type` (text)
    
    - startup / internal / client / investment / other
        
- `priority` (int, default 3)
    
- `owner_notes` (text)
    
    - 你对该项目的整体评价 / 关键判断
        
- `last_active_at` (timestamptz)
    
    - 最近一条 Entry 的 occurred_at
        
- `created_at` / `updated_at`
    

#### 4.2.2 `project_entries`

- `id` (uuid, pk)
    
- `project_id` (uuid, fk → projects.id, not null)
    
- `kind` (text, not null)
    
    - meeting / update / self_note / decision / prep / reflection
    - **注意：承诺（Commitment）不作为 Entry 类型，而是独立实体**
        
- `occurred_at` (timestamptz, not null, default now())
    
- `title` (text, 可选)
    
- `raw_content` (text)
    
- `ai_summary` (text)
    
- `ai_actions` (jsonb)
    
    - AI 建议的承诺列表：[{direction, text, person_suggested}]
        
- `is_key_decision` (boolean, default false)
    
- `created_at` (timestamptz, default now())
    
- `participants` (多对多关系 → persons)
    
    - 参与该条目的人员列表（主要用于 meeting / update 类型）

索引：

- `(project_id)`
    
- `(project_id, occurred_at desc)`

#### 4.2.3 `persons`（人员/关系人）

> **v0.5 新增模块**：将人员作为一等实体管理，支持在 Entry 中标记参与者、在 Commitment 中关联责任人，为「关系视角」的承诺追踪和未来对话教练功能打下基础。

- `id` (uuid, pk)
    
- `name` (text, not null)
    
    - 人员姓名，如 "张三" / "Sarah Chen"
        
- `organization` (text)
    
    - 所属组织/公司，如 "Acme Corp"
        
- `role` (text)
    
    - 职位/角色，如 "CEO" / "产品负责人"
        
- `relationship_type` (text)
    
    - 关系类型，分组如下：
        
    - **内部关系**：manager（上级）/ direct_report（下属）/ skip_level（隔级下属）/ peer（同级）/ cross_functional（跨部门）/ stakeholder（利益相关者）/ executive（高管）/ founder（创始人）
        
    - **投资与顾问**：portfolio_founder（被投创始人）/ investor（投资人）/ advisor（顾问）/ mentor（导师）/ mentee（学员）/ board_member（董事会成员）
        
    - **外部关系**：client（客户）/ vendor（供应商）/ partner（合作伙伴）/ candidate（候选人）
        
    - **其他**：other
        
- `notes` (text)
    
    - 关于此人的备注/上下文
        
- `created_at` (timestamptz, default now())
    
- `updated_at` (timestamptz)
    

索引：

- `(name)`
    
- `(relationship_type)`

#### 4.2.4 `commitments`

> **重要设计决策**：承诺（Commitment）是独立于 Entry 的一等实体，不是 Entry 的一种类型。这样设计的原因：
> - 承诺有独立的生命周期（创建 → 进行中 → 完成/取消）
> - 承诺需要独立追踪和管理
> - 一条 Entry 可能产生多条承诺
> - 承诺可以脱离 Entry 独立创建

- `id` (uuid, pk)
    
- `title` (text, not null)
    
- `project_id` (uuid, fk → projects.id, on delete set null)
    
- `source_entry_id` (uuid, fk → project_entries.id, on delete set null)
    
- `person_id` (uuid, fk → persons.id, on delete set null)
    
    - **替代原 counterparty 字段**：关联具体人员，支持按人员视角查看承诺
        
- `direction` (text, not null)
    
    - 'i_owe' | 'waiting_for'
        
- `due_date` (date)
    
- `importance` (int, default 3)
    
    - 1-5 级重要性
        
- `urgency` (int, default 3)
    
    - 1-5 级紧急性
        
- `status` (text, default 'open')
    
    - open / done / blocked / dropped
        
- `ai_generated` (boolean, default false)
    
    - 标记是否由 AI 从 Entry 中提取
        
- `created_at` (timestamptz, default now())
    
- `completed_at` (timestamptz)
    
- `notes` (text)
    

建议索引：

- `(project_id)`
    
- `(person_id)`
    
- `(direction, status)`
    
- `(due_date)`

#### 4.2.5 `reflections`

> **重新设计**：反思从简单的周期性记录升级为情境化学习系统，支持多种反思类型、事件关联、情绪追踪和承诺生成。

- `id` (uuid, pk)

- `reflection_type` (text, not null)
    
    - `quick`：快速反思（事件触发的微反思）
    - `periodic`：周期性反思（周/月/季度）
    - `project`：项目反思（针对特定项目）
    - `relationship`：关系反思（针对特定人员）
        
- `period_type` (text, nullable)
    
    - week / month / quarter（仅 periodic 类型使用）
        
- `period_start` (timestamptz)
    
    - 反思覆盖的开始时间
        
- `period_end` (timestamptz)
    
    - 反思覆盖的结束时间
        
- `mood` (text, nullable)
    
    - 情绪状态：confident / uncertain / energized / drained / neutral
        
- `questions_answers` (jsonb, not null)
    
    - 结构化问答：[{question, answer, linked_entry_id?}]
        
- `ai_questions` (jsonb)
    
    - AI 生成的原始问题列表
        
- `stats` (jsonb)
    
    - 本期统计快照：entries_created, meetings_held, decisions_recorded, commitments_created, commitments_completed, i_owe_open, waiting_for_open, projects_active
        
- `tags` (jsonb)
    
    - 主题标签：["delegation", "feedback", "decision-making"]
        
- `generated_commitment_ids` (jsonb)
    
    - 从本次反思生成的承诺 ID 列表
        
- `project_id` (uuid, fk → projects.id, nullable)
    
    - 关联项目（project 类型反思必填）
        
- `person_id` (uuid, fk → persons.id, nullable)
    
    - 关联人员（relationship 类型反思必填）
        
- `source_entry_id` (uuid, fk → project_entries.id, nullable)
    
    - 触发反思的 Entry（quick 类型使用）
        
- `linked_entry_ids` (jsonb)
    
    - 反思关联的 Entry ID 列表
        
- `linked_commitment_ids` (jsonb)
    
    - 反思关联的 Commitment ID 列表
        
- `created_at` (timestamptz, default now())

索引：

- `(reflection_type)`
    
- `(project_id)`
    
- `(person_id)`
    
- `(created_at desc)`
    

---

## 五、功能需求（按模块）

### 5.1 认证 & Workspace

- 单用户 Workspace：
    
    - Email + Password 登录即可；
        
- 提供基础数据导出能力：Projects / Entries / Commitments / Reflections 导出为 CSV/JSON（可后续实现）。
    

### 5.2 Projects 模块

#### 5.2.1 Project 列表

- 列表字段：
    
    - name, status, type, priority, last_active_at；
        
- 筛选：
    
    - 按 status / type / priority；
        
- 排序：
    
    - priority desc；
        
    - last_active_at asc/desc。
        

#### 5.2.2 新建/编辑 Project

- 快速创建：
    
    - 只填 name（默认为 active / priority=3）；
        
- 高级信息后续编辑：
    
    - type, priority, owner_notes 等。
        

#### 5.2.3 Project 详情

- Header Snapshot：
    
    - name, status, type, priority；
        
    - owner_notes（可折叠显示摘要）；
        
- Timeline（Entries）：
    
    - 按 occurred_at desc 列出卡片；
        
    - 展示：kind 图标、标题、时间、摘要（ai_summary 截断版）；
        
    - 支持按 kind 过滤。
        
- Commitments Panel：
    
    - 列出与该项目相关的未完成 Commitments：
        
        - 按 direction 分组（I Owe / Waiting For）。
            
- 操作按钮：
    
    - Add Entry（新增卡片）；
        
    - Prep（会前 Briefing 弹窗）。
        

---

### 5.3 Entries 模块

#### 5.3.1 新增卡片

- 从 Project 页面点击「新增卡片」；
    
- 表单：
    
    - kind：Meeting / Update / Self Note / Decision；
        
    - occurred_at：默认当前时间，可改；
        
    - title：可选；
        
    - raw_content：多行文本。
        

#### 5.3.2 AI 摘要与承诺建议

- Meeting / Update 提供“生成摘要与承诺”：
    
    - 输入：raw_content + 项目信息；
        
    - 输出：ai_summary + ai_actions；
        
- UI：
    
    - ai_summary：可编辑；
        
    - ai_actions 列表：
        
        - direction 建议；
            
        - 文本描述；
            
        - 建议 counterparty；
            
    - 用户勾选 → 一键生成 Commitments。
        

#### 5.3.3 决策标记

- kind=Decision 或勾选“重要决策”：
    
    - 展示决策子表单：
        
        - 决策内容；
            
        - 当时理由；
            
        - 核心假设；
            
        - 复盘时间。
            

---

### 5.4 Commitments 模块

> **核心设计原则**：
> - Commitments ≠ 泛 ToDo，只记录承诺（谁欠谁什么）
> - Commitment 是独立实体，不是 Entry 的一种类型
> - 通过关联 Person 实现「关系视角」的承诺追踪

#### 5.4.1 全局 Commitments 列表

- **三种视图模式**：
    
    - `I Owe`：direction = i_owe，我欠别人的承诺；
        
    - `Waiting For`：direction = waiting_for，别人欠我的承诺；
        
    - `By Person`（新增）：按关联人员分组查看承诺，快速了解与每个人之间的承诺状态；
        
- **完成统计卡片**（新增）：
    
    - 显示已完成承诺的统计数据；
    - 按时间维度展示（今天、本周、本月完成数量）；
    - 提供正向反馈激励；
        
- **最近完成历史**（新增）：
    
    - 可折叠的已完成承诺列表，默认收起；
    - 按完成日期智能分组：
        - 今天完成
        - 昨天完成  
        - 本周完成
        - 更早完成
    - 每条记录显示：标题、完成日期、关联项目/人员；
    - 支持重新打开已完成的承诺；
        
- 列表字段：
    
    - title, project, person（关联人员）, due_date, importance, urgency, status。
        
- 功能：
    
    - Filter：按 project / status / person；
        
    - Sort：按 due_date / importance / person；
        
    - 快捷操作：
        
        - 标记完成；
            
        - 修改 due_date / importance；
            
        - 编辑 notes。

#### 5.4.2 从 Entry 生成 Commitment

- 在 Meeting / Update / Self Note Entry 的 AI actions 区域：
    
    - 每条建议旁：
        
        - 方向切换（I Owe / Waiting For）；
            
        - **Person 选择器**（替代原 counterparty 文本输入）：
            
            - 支持搜索现有人员；
                
            - 支持快速创建新人员（仅需输入姓名）；
            
        - due_date 选择；
            
    - 点击"生成承诺"：
        
        - 创建 `commitments`：project_id、source_entry_id、person_id、direction 等被写入。

#### 5.4.3 承诺与人员的关联价值

- **按人员视角查看**：
    
    - 在 Person 详情页可看到与该人相关的所有承诺（I Owe + Waiting For）；
        
    - 快速了解某段关系中的承诺状态，为关键对话做准备；
        
- **关系健康度追踪**：
    
    - 识别承诺失衡的关系（如：对某人总是 Waiting For，从不主动 I Owe）；
        
    - 发现长期未履行承诺的关系风险；
        
- **为对话教练打基础**：
    
    - 基于某人的承诺历史，设计针对性的对话练习场景。
            

---

### 5.5 People 模块（v0.5 新增）

> **核心价值**：将人员从散落的文本提升为一等实体，实现「关系视角」的领导力追踪。

#### 5.5.1 People 列表

- 列表字段：
    
    - name, organization, role, relationship_type；
        
    - 承诺统计（I Owe / Waiting For 数量）；
        
    - 最近互动时间；
        
- 筛选：
    
    - 按关系类型分组（内部/投资与顾问/外部/其他）；
        
- 排序：
    
    - 按姓名 / 组织 / 最近活跃 / 承诺总数；
        
- 搜索：
    
    - 支持按姓名、组织、角色模糊搜索。

#### 5.5.2 新建/编辑 Person

- 快速创建（Quick Create）：
    
    - 仅需姓名即可创建，其他信息后续补充；
        
    - 用于在创建承诺时快速添加新人员；
        
- 完整表单：
    
    - name（必填）；
        
    - organization（组织/公司）；
        
    - role（职位/角色）；
        
    - relationship_type（关系类型，分组选择器）；
        
    - notes（关系备注）。

#### 5.5.3 Person 详情

- Header：
    
    - 姓名、组织、角色、关系类型；
        
- 承诺面板：
    
    - 分 I Owe / Waiting For 两组显示与该人相关的承诺；
        
    - 显示逾期/即将到期状态；
        
- 相关 Entries：
    
    - 该人参与的会议/更新记录；
        
    - 按时间倒序展示；
        
- 操作按钮：
    
    - 编辑信息；
        
    - 新增承诺（预选该人员）。

#### 5.5.4 Person Picker 组件

- 可复用组件，用于：
    
    - 创建/编辑 Commitment 时选择关联人员；
        
    - 创建 Meeting/Update Entry 时添加参与者；
        
- 功能：
    
    - 搜索现有人员；
        
    - 支持快速创建新人员（仅需姓名）；
        
    - 单选模式（Commitment）和多选模式（Entry 参与者）。

---

### 5.6 Dashboard / Home

#### 5.6.1 Weekly Focus

- 来源：`commitments` 中 `direction='i_owe' 且 status in (open, in_progress)`；
    
- 简单排序逻辑：importance + due_date + 所属项目 priority；
    
- UI：展示 Top 5–10 个 I Owe 承诺，支持一键完成 / 跳转。
    

#### 5.6.2 需要关注的 Projects

- 条件：高优先级 + 长期无活动；
    
- 展示：项目概要 + 最近一条 Entry + 未完成 Commitments 数量；
    
- 提供建议下一步动作按钮。
    

#### 5.6.3 反思入口与待复盘决策

- 显示：待复盘的决策卡片数量、快捷入口；
    
- 按钮："本周反思""本月反思"。
    

---

### 5.7 Reflections 模块

> **设计原则**：
> - 反思锚定真实事件，不是空泛日记
> - 从微反思到深度复盘，覆盖全谱系
> - 洞察可转化为行动（承诺）
> - AI 辅助但不阻塞（超时/失败时提供默认问题）

#### 5.7.1 反思入口

**Dashboard 智能提示**

- 条件判断优先级：
    1. 周反思到期（> 7 天未做周反思）→ 显示周反思卡片
    2. 项目需要关注（高优项目 > 14 天无反思）→ 显示项目反思提示
    3. 本周活跃度高（entries ≥ 5）→ 显示快速反思建议
    
- **Guardrail**：用户今天已反思则不再显示被动提示

**项目详情页**

- 「反思」按钮：进入该项目的项目反思流程
    
**人员详情页**

- 「反思关系」按钮：进入该人员的关系反思流程

**事件后触发**

- 完成 Meeting / Decision 类型 Entry 后：
    - 弹出快速反思底部卡片
    - 每日上限 3 次

#### 5.7.2 快速反思（Quick Reflection）

- **UI**：底部滑出卡片（非全屏），30 秒内可完成
    
- **内容**：
    - 单个 AI 生成的情境问题
    - 情绪选择器（5 种情绪）
    - 可选文本输入
    
- **数据**：
    - 自动关联触发的 Entry
    - `reflection_type = 'quick'`

#### 5.7.3 周期性反思（Periodic Reflection）

**流程（多步骤）**：

1. **周期选择**：周 / 月 / 季度
    
2. **关键事件筛选**（新增）：
    - 系统展示本周期 Top 3-5 重要事件
    - 用户可勾选/取消勾选
    - 可手动添加其他 Entry
    
3. **情境化问题**：
    - AI 基于所选事件 + 统计数据生成 3-5 个针对性问题
    - **Guardrail**：AI 超时（8秒）或失败时使用默认问题集
    
4. **卡片式回答**（iPhone UX 优化）：
    - 左右滑动切换问题
    - 每张卡片显示问题 + 关联事件预览 + 文本输入
    - "暂时跳过"按钮始终可见
    
5. **情绪 & 标签**：
    - 整体情绪选择
    - AI 建议主题标签（可编辑）
    
6. **承诺生成**：
    - 每个回答旁显示"创建承诺"按钮
    - 点击后预填承诺内容，用户确认方向和截止日期

**平台适配**：

- **iPhone**：卡片式滑动问答，底部固定"完成"按钮
- **iPad**：分栏布局，左侧事件预览，右侧问答
- **Mac**：三栏布局，左侧事件列表，中间问答，右侧承诺/标签

#### 5.7.4 项目反思（Project Reflection）

- **入口**：项目详情页「反思」按钮
    
- **预填数据**：
    - `reflection_type = 'project'`
    - `project_id` 自动关联
    - 自动筛选该项目的 Entries 和 Commitments
    
- **问题生成 Context**：
    - 项目名称、优先级、状态
    - 该项目的 Entries 摘要
    - 该项目的承诺履行情况
    - 上次项目反思的时间和洞察

#### 5.7.5 关系反思（Relationship Reflection）

- **入口**：人员详情页「反思关系」按钮
    
- **设计原则**：
    - 轻量化：聚焦关系维度，不复制项目全功能
    - 必须锚定事件：选择与该人员相关的 Entries
    
- **预填数据**：
    - `reflection_type = 'relationship'`
    - `person_id` 自动关联
    - 自动筛选该人员参与的 Entries
    - 自动筛选与该人员相关的 Commitments
    
- **问题方向**：
    - 沟通模式（"你们的对话是否有效？"）
    - 承诺平衡（"是否存在单向承诺？"）
    - 关系健康（"这段关系让你感到消耗还是充能？"）

#### 5.7.6 反思列表

- **智能仪表盘**（新增）：
    - **节奏状态指示器**：
        - 🔥 N Week Streak（连续 N 周反思）
        - ✅ On Track（本周已反思）
        - ⏰ Due Today（建议今天反思）
        - ⚠️ Time to Reflect（需要关注）
    - **本周统计**：显示本周已完成的反思数量；
    - **高频主题预览**：展示 Top 3 领导力主题标签；
    - **洞察入口**：快速跳转到成长洞察仪表盘。

- **情境化建议区**（新增）：
    - 根据用户行为智能生成反思建议；
    - 建议类型：周反思、月反思、季度反思、快速反思；
    - 显示建议原因（如"Keep your 3-week streak going!"）；
    - 按优先级排序：高优先级（周反思到期）> 中（月末/季末）> 低（快速check-in）；
    - 用户可隐藏建议区。

- **智能时间分组**（新增）：
    - Today（今天）
    - This Week（本周）
    - Last Week（上周）
    - Earlier This Month（本月更早）
    - Last Month（上个月）
    - Older（更早）
    
- **筛选维度**：
    - 反思类型（全部 / 快速 / 周期 / 项目 / 关系）
    - 周期类型（周 / 月 / 季度）
    - 时间范围
    - 搜索（问题/回答内容）
    
- **列表展示**：
    - 反思类型图标 + 标题
    - 情绪 emoji
    - 完成度（已回答/总问题数）
    - 关联项目/人员名称
    - 创建时间

#### 5.7.7 反思详情

- **Header**：
    - 反思类型标签 + 周期类型标签
    - 完成状态
    - 情绪显示
    - 关联项目/人员

- **关键洞察摘要**（新增，仅完成的反思显示）：
    - 自动提取最有意义的回答作为核心引用；
    - 显示本次反思的主题标签概览；
    - 展示情绪状态和上下文信息。
    
- **领导力主题区**（增强）：
    - 显示已标记的主题标签，支持删除；
    - **智能主题建议**：基于回答内容分析关键词，推荐相关主题；
    - **一键添加建议主题**：点击即可添加；
    - **手动添加**：支持添加自定义主题；
    - **频率统计**：显示"这些主题出现在 N% 的反思中"；
    - **主题提取功能**：菜单中提供"Extract Themes"选项，自动分析回答内容提取主题。
    
- **关联事件区**（增强）：
    - **按类型分组统计**：显示各类型事件数量（如 3 会议、2 决策）；
    - **丰富的事件卡片**：
        - 事件类型图标和背景色
        - 标题和相对时间
        - 内容预览（截断显示）
        - 状态指示器（决策标记、项目关联）
    - 可点击跳转到 Entry 详情。
    
- **问答区**：
    - 卡片式展示每个问答
    - 编辑模式：可修改回答
    - 每个回答旁显示"创建承诺"按钮
    
- **生成的承诺区**：
    - 展示从本次反思创建的承诺
    - 显示承诺状态（完成/进行中/逾期）

- **成长追踪区**（新增，仅完成的反思显示）：
    - **主题演变**：
        - 显示本次新出现的主题 vs 持续关注的主题；
        - 如"新关注点：delegation，持续关注：communication"。
    - **情绪趋势**：
        - 与同类型历史反思对比当前情绪；
        - 显示趋势方向（向好 ↑ / 持平 → / 下降 ↓）。
    - **一致性激励**：
        - 显示该类型反思的累计次数；
        - 如"这是你第 5 次周反思 - 保持一致性！"

#### 5.7.8 成长洞察仪表盘（Insights Dashboard）

- **入口**：Reflections 列表页顶部 / Dashboard 链接
    
- **指标展示**：
    - 总反思数 / 本月反思数
    - 完成率（已回答问题 / 总问题）
    - 快速反思数量
    - 反思连续周数（streak）
    
- **主题分析**：
    - 高频主题排行（如：授权 ×5，反馈 ×3）
    - 首位主题高亮
    
- **承诺追踪**：
    - 从反思生成的承诺总数
    - 承诺完成率环形图
    - 未完成承诺提醒
    
- **情绪趋势**：
    - 各情绪出现次数分布
    - 最常出现的情绪高亮

#### 5.7.9 与会前准备的整合

- 在生成项目 Prep Briefing 时：
    - 查询该项目的历史反思
    - 查询周期性反思中关联该项目 Entry 的反思
    - 展示「过往反思洞察」区块
    - 包含：反思日期、关键回答摘要、主题标签、情绪

#### 5.7.10 AI 容错设计（Guardrails）

- **超时处理**：AI 生成问题超过 8 秒，使用预设默认问题
    
- **领导力导向的默认问题集**：
    
    - **快速反思**："下次我会做什么不同的事？"
    
    - **周反思**（4 个核心问题）：
        - "这周哪个决策让我最自豪？是什么让它有效？"
        - "我在哪里回避了本应进行的艰难对话？"
        - "我打破了哪个承诺？这说明了我的优先级什么问题？"
        - "这周我帮助谁成长了？谁帮助我成长了？"
    
    - **月反思**（5 个核心问题）：
        - "我守住的承诺 vs 放弃的承诺，呈现什么模式？"
        - "哪段关系变强了？哪段变弱了？为什么？"
        - "我做了哪个决策现在开始不确定了？"
        - "我在哪些地方花时间但没有推动进展？"
        - "我收到了什么反馈但没有采取行动？"
    
    - **季度反思**（5 个核心问题）：
        - "和上季度相比，我的领导方式有什么最大转变？"
        - "我的哪些决策产生了最大影响——正面或负面？"
        - "我在回避承担什么责任？"
        - "我培养了谁？我忽视了培养谁？"
        - "下个季度如果只能完成一件事，必须是什么？"
    
    - **项目反思**（4 个核心问题）：
        - "我是在领导这个项目还是只是在管理它？区别在哪？"
        - "什么对话能解锁最大的障碍？"
        - "这个项目中我没有培养谁，但应该培养？"
        - "如果我要交接，我会告诉继任者做什么不同的事？"
    
    - **关系反思**（4 个核心问题）：
        - "如果这个人给我的可靠度打分 1-10，他们会打几分？为什么？"
        - "我对他们做了什么承诺——明确的或隐含的——但没有兑现？"
        - "这个人需要我提供什么，但我没有给？"
        - "我一直在回避和他们进行什么对话？"
    
- **原则**：AI 辅助但永不阻塞用户反思
    

---

### 5.8 Quick Capture 模块

#### 5.8.1 路由与布局

- 路由：`/capture`；
    
- 移动优先：
    
    - 项目选择 / 新建；
        
    - Entry 类型选择（Note / Meeting / Update）；
        
    - 文本框；
        
    - **参与者选择**（Meeting / Update 类型时显示）：
        
        - 使用 Person Picker 多选模式；
            
        - 支持快速创建新人员；
        
    - 保存按钮。
        

#### 5.8.2 行为

- 若选已有 Project：创建对应类型的 Entry；
    
- 若新建 Project 名称：先创建 Project 再创建 Entry；
    
- Meeting / Update 类型会关联所选参与者（participants）；
    
- 保存后轻量 toast 提示，停留在当前页。
    

---

## 六、非功能需求

- 性能：单用户场景，普通 Postgres 即可；
    
- 安全与隐私：数据仅对当前用户可见，支持导出；
    
- 易用性：Web-first，移动端 Quick Capture 可用；
    
- 可迁移性：数据结构中性，便于未来接入日历、Sparring Coach 等。
    

---

## 七、路线图（v0.5）

### Sprint 0（~1 周）：基础设施 & 数据层

- 技术栈选型与项目初始化（如 Next.js + Supabase/Neon）；
    
- 建表：`projects` / `project_entries` / `commitments` / `reflections` / `persons`；
    
- 实现基础：
    
    - 简单 Project 列表/详情；
        
    - 新增 Project / Entry（无 AI）。
        

### Sprint 1（~1–2 周）：Entries + Commitments Core Loop

- 完成 Meeting → Entry → Commitments 的闭环：
    
    - Project 详情时间线视图；
        
    - 新增 Entry 表单；
        
    - 调用 LLM 生成摘要 + 承诺建议；
        
    - Commitments 列表 + 从 Entry 生成 Commitments。
        

### Sprint 2（~1–2 周）：Dashboard + Prep + Quick Capture + People

- 完成 Daily/Weekly 的主要入口：
    
    - Dashboard：Weekly Focus、需要关注的 Projects；
        
    - Project Prep：会前 Briefing；
        
    - Quick Capture 路由及移动端优化。
        
- **People 模块**（v0.5 新增）：
    
    - People 列表/详情/新建/编辑；
        
    - Person Picker 组件（单选/多选）；
        
    - Commitments 关联 Person（替代 counterparty 文本）；
        
    - Entry 支持添加参与者（Meeting/Update 类型）；
        
    - Commitments "By Person" 视图。
        

### Sprint 3（~2–3 周）：情境化反思系统

- 完整的反思功能，实现情境化领导力学习：
    
    - **快速反思**：事件后触发、底部卡片、情绪选择；
        
    - **周期性反思**：周/月/季度，事件选择 + 情境化问题；
        
    - **项目反思**：项目详情页入口，项目维度复盘；
        
    - **关系反思**：人员详情页入口，关系健康复盘；
        
    - **成长洞察仪表盘**：主题分析、承诺追踪、情绪趋势；
        
    - **会前准备整合**：反思洞察融入 Prep Briefing；
        
    - **承诺生成**：从反思洞察创建承诺；
        
    - **平台适配**：iPhone 卡片式、iPad 分栏、Mac 三栏；
        
    - 决策标记 + 简单待复盘提醒。
        

---

## 八、后续迭代方向（v0.6+，非本版范围）

- **Conversation Sparring / Dojo Mode**：
    
    - 基于某个 Project / Person，设计高风险对话场景，
        
    - AI 扮演对方进行模拟对话练习，
        
    - 练功结果自动生成 Entry + Commitments + Reflection。
        
- **语音 Quick Capture / 实时对话捕捉**：
    
    - 移动端麦克风入口 + 本地/云端 ASR；
        
    - 支持在对话后用口述方式快速生成 Meeting / Self Note。
        
- **日历集成**：
    
    - Google Calendar OAuth；
        
    - 从历史会议自动生成 Meeting Entry 草稿；
        
    - 自动关联日历参与者到 People。
        
- **关系健康度仪表盘**：
    
    - 基于 People + Commitments 数据，可视化关系健康度；
        
    - 识别承诺失衡、长期沉默的重要关系；
        
    - 提供主动维护关系的建议。
        
- **Team / 多用户版本**：
    
    - Shared Projects、权限与角色；
        
- **更深入的模式分析**：
    
    - 基于 Entries / Commitments / Reflections / People，分析决策风格、沟通模式与守约习惯，
        
    - 提供更针对性的 Dojo 训练计划。
        

---

> 本 PRD 聚焦单用户 v0.5，核心目标是：
> 
> - 让 Leader Dojo 成为你每日/每周真正会打开和使用的"领导力练功房"；
>     
> - 在真实项目与对话场景中，帮你打磨决策、沟通与守约三套功夫；
>     
> - 通过 People 模块实现「关系视角」的承诺追踪，为高质量的对话练习提供 context；
>     
> - 为未来高价值的 Conversation Coach / Sparring 功能，提前建立良好的数据结构与使用习惯。
>