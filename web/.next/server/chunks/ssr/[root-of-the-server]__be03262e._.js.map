{"version":3,"sources":["../../../../src/lib/services/projects-service.ts","../../../../src/lib/services/entries-service.ts","../../../../src/lib/services/commitments-service.ts","../../../../src/lib/services/reflections-service.ts","../../../../src/lib/services/dashboard-service.ts","../../../../src/lib/services/index.ts","../../../../src/components/ui/card.tsx","../../../../node_modules/class-variance-authority/dist/index.mjs","../../../../node_modules/%40radix-ui/react-slot/dist/index.mjs","../../../../node_modules/%40radix-ui/react-compose-refs/dist/index.mjs","../../../../src/components/ui/badge.tsx","../../../../src/app/%28authenticated%29/dashboard/page.tsx"],"sourcesContent":["import type { NewProject, Project } from \"@/lib/db/types\";\nimport { ProjectsRepository } from \"@/lib/repositories\";\n\ntype CreateProjectInput = Omit<\n  NewProject,\n  \"id\" | \"userId\" | \"createdAt\" | \"updatedAt\" | \"lastActiveAt\"\n>;\n\ntype UpdateProjectInput = Partial<CreateProjectInput>;\n\nexport class ProjectsService {\n  constructor(private readonly projectsRepo = new ProjectsRepository()) {}\n\n  async createProject(userId: string, input: CreateProjectInput): Promise<Project> {\n    return this.projectsRepo.createProject({\n      ...input,\n      userId,\n    });\n  }\n\n  async updateProject(userId: string, projectId: string, input: UpdateProjectInput) {\n    return this.projectsRepo.updateProject(userId, projectId, input);\n  }\n\n  async getProject(userId: string, projectId: string) {\n    return this.projectsRepo.findById(userId, projectId);\n  }\n\n  async listProjects(userId: string) {\n    return this.projectsRepo.listByUser(userId);\n  }\n\n  async markProjectActive(userId: string, projectId: string) {\n    await this.projectsRepo.updateLastActive(userId, projectId, new Date());\n  }\n\n  async findIdleProjects(userId: string, daysIdle = 45) {\n    const lastActiveBefore = new Date();\n    lastActiveBefore.setDate(lastActiveBefore.getDate() - daysIdle);\n    return this.projectsRepo.findIdleProjects({\n      userId,\n      lastActiveBefore,\n      minPriority: 3,\n    });\n  }\n}\n\n","import type { SuggestedAction } from \"@/lib/ai/types\";\nimport { getAiClient } from \"@/lib/ai/client\";\nimport type { NewProjectEntry, ProjectEntry } from \"@/lib/db/types\";\nimport { CommitmentsRepository, EntriesRepository, ProjectsRepository } from \"@/lib/repositories\";\n\ntype CreateEntryInput = Omit<\n  NewProjectEntry,\n  \"id\" | \"userId\" | \"projectId\" | \"createdAt\" | \"updatedAt\"\n>;\n\nexport class EntriesService {\n  constructor(\n    private readonly entriesRepo = new EntriesRepository(),\n    private readonly projectsRepo = new ProjectsRepository(),\n    private readonly commitmentsRepo = new CommitmentsRepository(),\n  ) {}\n\n  async createEntry(userId: string, projectId: string, input: CreateEntryInput) {\n    const entry = await this.entriesRepo.createEntry({\n      ...input,\n      userId,\n      projectId,\n    });\n\n    await this.projectsRepo.updateLastActive(userId, projectId, input.occurredAt ?? new Date());\n    return entry;\n  }\n\n  async getTimeline(userId: string, projectId: string) {\n    return this.entriesRepo.listByProject(userId, projectId);\n  }\n\n  async markAsDecision(userId: string, entryId: string) {\n    return this.entriesRepo.updateEntry(userId, entryId, { isDecision: true });\n  }\n\n  async getEntry(userId: string, entryId: string) {\n    return this.entriesRepo.findById(userId, entryId);\n  }\n\n  async generateSummary(entry: ProjectEntry, projectContext?: string) {\n    const ai = getAiClient();\n    return ai.summarizeMeeting({\n      rawContent: entry.rawContent ?? \"\",\n      projectContext,\n    });\n  }\n\n  async persistSummary(\n    userId: string,\n    entryId: string,\n    summary: string,\n    suggestedActions: SuggestedAction[],\n  ) {\n    await this.entriesRepo.updateEntry(userId, entryId, {\n      aiSummary: summary,\n      aiSuggestedActions: suggestedActions,\n    });\n  }\n\n  async createCommitmentsFromSuggestions(\n    userId: string,\n    projectId: string,\n    entryId: string,\n    suggestions: SuggestedAction[],\n  ) {\n    const payload = suggestions.map((suggestion) => ({\n      userId,\n      projectId,\n      entryId,\n      title: suggestion.title,\n      direction: suggestion.direction,\n      counterparty: suggestion.counterparty,\n      dueDate: suggestion.dueDate ? new Date(suggestion.dueDate) : null,\n      importance: suggestion.importance ?? 3,\n      urgency: suggestion.urgency ?? 3,\n      notes: suggestion.notes,\n      aiGenerated: true,\n    }));\n\n    return this.commitmentsRepo.createMany(payload);\n  }\n}\n\n","import type { CommitmentDirection } from \"@/lib/ai/types\";\nimport { commitments } from \"@/lib/db/schema\";\nimport type { NewCommitment } from \"@/lib/db/types\";\nimport { CommitmentsRepository } from \"@/lib/repositories\";\n\ntype CreateCommitmentInput = Omit<\n  NewCommitment,\n  \"id\" | \"userId\" | \"createdAt\" | \"updatedAt\"\n>;\n\ntype ListCommitmentsInput = {\n  directions?: CommitmentDirection[];\n  statuses?: Array<typeof commitments.$inferSelect.status>;\n  projectId?: string;\n};\n\nexport class CommitmentsService {\n  constructor(private readonly commitmentsRepo = new CommitmentsRepository()) {}\n\n  async createCommitment(userId: string, input: CreateCommitmentInput) {\n    return this.commitmentsRepo.createCommitment({\n      ...input,\n      userId,\n    });\n  }\n\n  async listCommitments(userId: string, filters: ListCommitmentsInput = {}) {\n    return this.commitmentsRepo.listCommitments(userId, filters);\n  }\n\n  async updateStatus(\n    userId: string,\n    commitmentId: string,\n    status: typeof commitments.$inferSelect.status,\n  ) {\n    return this.commitmentsRepo.updateCommitment(userId, commitmentId, {\n      status,\n      completedAt: status === \"done\" ? new Date() : null,\n    });\n  }\n\n  async updateCommitment(\n    userId: string,\n    commitmentId: string,\n    input: Partial<CreateCommitmentInput>,\n  ) {\n    return this.commitmentsRepo.updateCommitment(userId, commitmentId, input);\n  }\n}\n\n","import { getAiClient } from \"@/lib/ai/client\";\nimport type { ReflectionPromptResult } from \"@/lib/ai/types\";\nimport { reflections } from \"@/lib/db/schema\";\nimport type { NewReflection } from \"@/lib/db/types\";\nimport {\n  CommitmentsRepository,\n  EntriesRepository,\n  ReflectionsRepository,\n} from \"@/lib/repositories\";\n\ntype ReflectionPeriod = typeof reflections.$inferSelect.periodType;\n\ntype ReflectionQuestionAnswer = {\n  question: string;\n  answer: string;\n};\n\nexport class ReflectionsService {\n  constructor(\n    private readonly reflectionsRepo = new ReflectionsRepository(),\n    private readonly entriesRepo = new EntriesRepository(),\n    private readonly commitmentsRepo = new CommitmentsRepository(),\n  ) {}\n\n  async listReflections(userId: string, periodType?: ReflectionPeriod) {\n    return this.reflectionsRepo.listReflections(userId, { periodType });\n  }\n\n  async generateReflection(\n    userId: string,\n    periodType: ReflectionPeriod,\n    periodStart: Date,\n    periodEnd: Date,\n  ): Promise<ReflectionPromptResult & { stats: Record<string, unknown> }> {\n    const entries = await this.entriesRepo.listForUser(userId, {\n      occurredAfter: periodStart,\n      occurredBefore: periodEnd,\n    });\n\n    const commitmentsList = await this.commitmentsRepo.listCommitments(userId, {\n      dueAfter: periodStart,\n      dueBefore: periodEnd,\n    });\n\n    const stats = {\n      meetingCount: entries.filter((entry) => entry.kind === \"meeting\").length,\n      decisionCount: entries.filter((entry) => entry.isDecision).length,\n      openCommitments: commitmentsList.filter((c) => c.status === \"open\").length,\n      waitingFor: commitmentsList.filter((c) => c.direction === \"waiting_for\").length,\n      iOwe: commitmentsList.filter((c) => c.direction === \"i_owe\").length,\n    };\n\n    const ai = getAiClient();\n    const prompts = await ai.generateReflectionPrompts({\n      timeframe: `${periodType} ${periodStart.toISOString()} - ${periodEnd.toISOString()}`,\n      stats,\n    });\n\n    return { ...prompts, stats };\n  }\n\n  async saveReflection(\n    userId: string,\n    data: {\n      periodType: ReflectionPeriod;\n      periodStart: Date;\n      periodEnd: Date;\n      stats: Record<string, unknown>;\n      questionsAndAnswers: ReflectionQuestionAnswer[];\n      aiQuestions: string[];\n    },\n  ) {\n    const payload: NewReflection = {\n      userId,\n      periodType: data.periodType,\n      periodStart: data.periodStart,\n      periodEnd: data.periodEnd,\n      stats: data.stats,\n      questionsAndAnswers: data.questionsAndAnswers,\n      aiQuestions: data.aiQuestions,\n    };\n\n    return this.reflectionsRepo.createReflection(payload);\n  }\n}\n\n","import { CommitmentsRepository, EntriesRepository, ProjectsRepository } from \"@/lib/repositories\";\n\nexport class DashboardService {\n  constructor(\n    private readonly commitmentsRepo = new CommitmentsRepository(),\n    private readonly projectsRepo = new ProjectsRepository(),\n    private readonly entriesRepo = new EntriesRepository(),\n  ) {}\n\n  async getWeeklyFocus(userId: string) {\n    const commitments = await this.commitmentsRepo.listCommitments(userId, {\n      directions: [\"i_owe\"],\n      statuses: [\"open\"],\n    });\n\n    return commitments\n      .sort((a, b) => {\n        const importanceDiff = (b.importance ?? 0) - (a.importance ?? 0);\n        if (importanceDiff !== 0) return importanceDiff;\n        const urgencyDiff = (b.urgency ?? 0) - (a.urgency ?? 0);\n        if (urgencyDiff !== 0) return urgencyDiff;\n        const dueA = a.dueDate ? new Date(a.dueDate).getTime() : Infinity;\n        const dueB = b.dueDate ? new Date(b.dueDate).getTime() : Infinity;\n        return dueA - dueB;\n      })\n      .slice(0, 5);\n  }\n\n  async getIdleProjects(userId: string) {\n    return this.projectsRepo.findIdleProjects({\n      userId,\n      lastActiveBefore: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000),\n      minPriority: 3,\n    });\n  }\n\n  async getPendingReviews(userId: string) {\n    const entries = await this.entriesRepo.listForUser(userId, {\n      kinds: [\"decision\"],\n    });\n\n    const decisionsNeedingReview = entries.filter((entry) => !entry.aiSummary).length;\n\n    return {\n      decisionsNeedingReview,\n      pendingReflections: 0,\n    };\n  }\n\n  async getDashboardData(userId: string) {\n    const [weeklyFocus, idleProjects, pending] = await Promise.all([\n      this.getWeeklyFocus(userId),\n      this.getIdleProjects(userId),\n      this.getPendingReviews(userId),\n    ]);\n\n    return {\n      weeklyFocus,\n      idleProjects,\n      pending,\n    };\n  }\n}\n\n","export * from \"./projects-service\";\nexport * from \"./entries-service\";\nexport * from \"./commitments-service\";\nexport * from \"./reflections-service\";\nexport * from \"./dashboard-service\";\n\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\nvar REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nvar use = React[\" use \".trim().toString()];\nfunction isPromiseLike(value) {\n  return typeof value === \"object\" && value !== null && \"then\" in value;\n}\nfunction isLazyComponent(element) {\n  return element != null && typeof element === \"object\" && \"$$typeof\" in element && element.$$typeof === REACT_LAZY_TYPE && \"_payload\" in element && isPromiseLike(element._payload);\n}\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/compose-refs/src/compose-refs.tsx\nimport * as React from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    return ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == \"function\") {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == \"function\") {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\nexport {\n  composeRefs,\n  useComposedRefs\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import { redirect } from \"next/navigation\";\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { DashboardService } from \"@/lib/services\";\nimport { getCurrentSession } from \"@/lib/auth/session\";\n\nconst dashboardService = new DashboardService();\n\nexport default async function DashboardPage() {\n  const session = await getCurrentSession();\n  if (!session?.user?.id) {\n    redirect(\"/auth/signin\");\n  }\n\n  const data = await dashboardService.getDashboardData(session.user.id);\n\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-3xl font-semibold tracking-tight\">Weekly focus</h1>\n        <p className=\"text-muted-foreground\">\n          AI-prioritized commitments and projects that need your attention this week.\n        </p>\n      </div>\n\n      <div className=\"grid gap-4 sm:grid-cols-2\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Top commitments</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {data.weeklyFocus.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground\">No open commitments right now.</p>\n            ) : (\n              data.weeklyFocus.map((item) => (\n                <div key={item.id} className=\"rounded-lg border p-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <p className=\"font-medium\">{item.title}</p>\n                    <Badge variant={item.direction === \"i_owe\" ? \"default\" : \"secondary\"}>\n                      {item.direction === \"i_owe\" ? \"I Owe\" : \"Waiting For\"}\n                    </Badge>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {item.counterparty ? `Counterparty: ${item.counterparty}` : \"No counterparty\"}\n                  </p>\n                </div>\n              ))\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Idle projects</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            {data.idleProjects.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground\">\n                All priority projects have recent activity.\n              </p>\n            ) : (\n              data.idleProjects.map((project) => (\n                <div key={project.id} className=\"rounded-lg border p-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"font-medium\">{project.name}</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Last update: {project.lastActiveAt?.toLocaleDateString() ?? \"Unknown\"}\n                      </p>\n                    </div>\n                    <Badge variant=\"secondary\">Priority {project.priority}</Badge>\n                  </div>\n                </div>\n              ))\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Pending reviews</CardTitle>\n        </CardHeader>\n        <CardContent className=\"flex gap-8 text-sm\">\n          <div>\n            <p className=\"text-3xl font-semibold\">{data.pending.decisionsNeedingReview}</p>\n            <p className=\"text-muted-foreground\">Decisions awaiting summary</p>\n          </div>\n          <div>\n            <p className=\"text-3xl font-semibold\">{data.pending.pendingReflections}</p>\n            <p className=\"text-muted-foreground\">Reflections to capture</p>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"oZACA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MASO,OAAM,cACX,aAA6B,EAAe,IAAI,EAAA,kBAAkB,AAAE,CAAE,MAAzC,YAAA,CAAA,CAA0C,CAEvE,MAAM,cAAc,CAAc,CAAE,CAAyB,CAAoB,CAC/E,OAAO,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,CACrC,GAAG,CAAK,QACR,CACF,EACF,CAEA,MAAM,cAAc,CAAc,CAAE,CAAiB,CAAE,CAAyB,CAAE,CAChF,OAAO,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,EAAQ,EAAW,EAC5D,CAEA,MAAM,WAAW,CAAc,CAAE,CAAiB,CAAE,CAClD,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAQ,EAC5C,CAEA,MAAM,aAAa,CAAc,CAAE,CACjC,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EACtC,CAEA,MAAM,kBAAkB,CAAc,CAAE,CAAiB,CAAE,CACzD,MAAM,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAQ,EAAW,IAAI,KAClE,CAEA,MAAM,iBAAiB,CAAc,CAAE,EAAW,EAAE,CAAE,CACpD,IAAM,EAAmB,IAAI,KAE7B,OADA,EAAiB,OAAO,CAAC,EAAiB,OAAO,GAAK,GAC/C,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,QACxC,EACA,mBACA,YAAa,CACf,EACF,CACF,wDC5CA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAOO,OAAM,0CACX,aACmB,EAAc,IAAI,EAAA,iBAAiB,AAAE,CACrC,EAAe,IAAI,EAAA,kBAAkB,AAAE,CACvC,EAAkB,IAAI,EAAA,qBAAqB,AAAE,CAC9D,MAHiB,WAAA,CAAA,OACA,YAAA,CAAA,OACA,eAAA,CAAA,CAChB,CAEH,MAAM,YAAY,CAAc,CAAE,CAAiB,CAAE,CAAuB,CAAE,CAC5E,IAAM,EAAQ,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAC/C,GAAG,CAAK,QACR,YACA,CACF,GAGA,OADA,MAAM,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAQ,EAAW,EAAM,UAAU,EAAI,IAAI,MAC7E,CACT,CAEA,MAAM,YAAY,CAAc,CAAE,CAAiB,CAAE,CACnD,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,EAAQ,EAChD,CAEA,MAAM,eAAe,CAAc,CAAE,CAAe,CAAE,CACpD,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAQ,EAAS,CAAE,YAAY,CAAK,EAC1E,CAEA,MAAM,SAAS,CAAc,CAAE,CAAe,CAAE,CAC9C,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAQ,EAC3C,CAEA,MAAM,gBAAgB,CAAmB,CAAE,CAAuB,CAAE,CAElE,MAAO,AADI,CAAA,EAAA,EAAA,WAAA,AAAW,IACZ,gBAAgB,CAAC,CACzB,WAAY,EAAM,UAAU,EAAI,kBAChC,CACF,EACF,CAEA,MAAM,eACJ,CAAc,CACd,CAAe,CACf,CAAe,CACf,CAAmC,CACnC,CACA,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAQ,EAAS,CAClD,UAAW,EACX,mBAAoB,CACtB,EACF,CAEA,MAAM,iCACJ,CAAc,CACd,CAAiB,CACjB,CAAe,CACf,CAA8B,CAC9B,CACA,IAAM,EAAU,EAAY,GAAG,CAAC,AAAC,IAAgB,QAC/C,CAD8C,WAE9C,UACA,EACA,MAAO,EAAW,KAAK,CACvB,UAAW,EAAW,SAAS,CAC/B,aAAc,EAAW,YAAY,CACrC,QAAS,EAAW,OAAO,CAAG,IAAI,KAAK,EAAW,OAAO,EAAI,KAC7D,WAAY,EAAW,UAAU,EAAI,EACrC,QAAS,EAAW,OAAO,EAAI,EAC/B,MAAO,EAAW,KAAK,CACvB,YAAa,EACf,CAAC,GAED,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,EACzC,CACF,sDC/EA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,KAaO,OAAM,iBACX,aAA6B,EAAkB,IAAI,EAAA,qBAAuB,AAAF,CAAI,MAA/C,eAAA,CAAA,CAAgD,CAE7E,MAAM,iBAAiB,CAAc,CAAE,CAA4B,CAAE,CACnE,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAC3C,GAAG,CAAK,QACR,CACF,EACF,CAEA,MAAM,gBAAgB,CAAc,CAAE,EAAgC,CAAC,CAAC,CAAE,CACxE,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,EAAQ,EACtD,CAEA,MAAM,aACJ,CAAc,CACd,CAAoB,CACpB,CAA8C,CAC9C,CACA,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAQ,EAAc,QACjE,EACA,YAAwB,SAAX,EAAoB,IAAI,KAAS,IAChD,EACF,CAEA,MAAM,iBACJ,CAAc,CACd,CAAoB,CACpB,CAAqC,CACrC,CACA,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAQ,EAAc,EACrE,CACF,2DChDA,IAAA,EAAA,EAAA,CAAA,CAAA,OAIA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAaO,OAAM,6CACX,aACmB,EAAkB,IAAI,EAAA,qBAAqB,AAAE,CAC7C,EAAc,IAAI,EAAA,iBAAiB,AAAE,CACrC,EAAkB,IAAI,EAAA,qBAAqB,AAAE,CAC9D,MAHiB,eAAA,CAAA,OACA,WAAA,CAAA,OACA,eAAA,CAAA,CAChB,CAEH,MAAM,gBAAgB,CAAc,CAAE,CAA6B,CAAE,CACnE,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,EAAQ,YAAE,CAAW,EACnE,CAEA,MAAM,mBACJ,CAAc,CACd,CAA4B,CAC5B,CAAiB,CACjB,CAAe,CACuD,CACtE,IAAM,EAAU,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAQ,CACzD,cAAe,EACf,eAAgB,CAClB,GAEM,EAAkB,MAAM,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,EAAQ,CACzE,SAAU,EACV,UAAW,CACb,GAEM,EAAQ,CACZ,aAAc,EAAQ,MAAM,CAAC,AAAC,GAAyB,YAAf,EAAM,IAAI,EAAgB,MAAM,CACxE,cAAe,EAAQ,MAAM,CAAE,AAAD,GAAW,EAAM,UAAU,EAAE,MAAM,CACjE,gBAAiB,EAAgB,MAAM,CAAC,AAAC,GAAmB,SAAb,EAAE,MAAM,EAAa,MAAM,CAC1E,WAAY,EAAgB,MAAM,CAAC,AAAC,GAAM,AAAgB,kBAAd,SAAS,EAAoB,MAAM,CAC/E,KAAM,EAAgB,MAAM,CAAC,AAAC,GAAsB,UAAhB,EAAE,SAAS,EAAc,MAAM,AACrE,EAEM,EAAK,CAAA,EAAA,EAAA,WAAA,AAAW,IAMtB,MAAO,CAFP,GAHgB,MAAM,EAAG,yBAAyB,CAAC,CACjD,UAAW,CAAA,EAAG,EAAW,CAAC,EAAE,EAAY,WAAW,GAAG,GAAG,EAAE,EAAU,WAAW,GAAA,CAAI,OACpF,CACF,EAES,GAAG,IAAS,CAAM,CAC7B,CADqB,AAGrB,MAAM,eACJ,CAAc,CACd,CAOC,CACD,CACA,IAAM,EAAyB,QAC7B,EACA,WAAY,EAAK,UAAU,CAC3B,YAAa,EAAK,WAAW,CAC7B,UAAW,EAAK,SAAS,CACzB,MAAO,EAAK,KAAK,CACjB,oBAAqB,EAAK,mBAAmB,CAC7C,YAAa,EAAK,WAAW,AAC/B,EAEA,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAC/C,CACF,2DCpFA,EAAA,CAAA,CAAA,MAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAEO,OAAM,0CACX,aACmB,EAAkB,IAAI,EAAA,qBAAuB,AAAF,CAC3C,EAAe,IAAI,EAAA,kBAAkB,AAAE,CACvC,EAAc,IAAI,EAAA,iBAAiB,AAAE,CACtD,MAHiB,eAAA,CAAA,OACA,YAAA,CAAA,OACA,WAAA,CAAA,CAChB,CAEH,MAAM,eAAe,CAAc,CAAE,CAMnC,MAAO,CALa,MAAM,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,EAAQ,CACrE,WAAY,CAAC,QAAQ,CACrB,SAAU,CAAC,OAAO,AACpB,EAAA,EAGG,IAAI,CAAC,CAAC,EAAG,KACR,IAAM,EAAiB,AAAC,GAAE,UAAU,EAAI,CAAC,GAAK,CAAD,CAAG,UAAU,GAAI,CAAC,CAC/D,GAAuB,IAAnB,EAAsB,OAAO,EACjC,IAAM,EAAc,CAAC,EAAE,OAAO,GAAI,CAAC,EAAK,EAAD,AAAG,OAAO,GAAI,CAAC,QACtD,AAAoB,GAAG,CAAnB,EAA0B,EAGvB,CAFM,EAAE,IAED,GAFQ,CAAG,IAAI,KAAK,EAAE,OAAO,EAAE,OAAO,GAAK,GAAA,GAC5C,EAAE,OAAO,CAAG,IAAI,KAAK,EAAE,OAAO,EAAE,OAAO,GAAK,GAAA,CAE3D,GACC,KAAK,CAAC,EAAG,EACd,CAEA,MAAM,gBAAgB,CAAc,CAAE,CACpC,OAAO,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,QACxC,EACA,iBAAkB,IAAI,KAAK,KAAK,GAAG,GAAK,KAAK,GAC7C,EADkD,KAAK,KAAK,AAC/C,CACf,EACF,CAEA,MAAM,kBAAkB,CAAc,CAAE,CAOtC,MAAO,CACL,uBAH6B,CAJf,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAQ,CACzD,MAAO,CAAC,WAAW,AACrB,EAAA,EAEuC,MAAM,CAAC,AAAC,GAAU,CAAC,EAAM,SAAS,EAAE,MAAM,CAI/E,mBAAoB,CACtB,CACF,CAEA,MAAM,iBAAiB,CAAc,CAAE,CACrC,GAAM,CAAC,EAAa,EAAc,EAAQ,CAAG,MAAM,QAAQ,GAAG,CAAC,CAC7D,IAAI,CAAC,cAAc,CAAC,GACpB,IAAI,CAAC,eAAe,CAAC,GACrB,IAAI,CAAC,iBAAiB,CAAC,GACxB,EAED,MAAO,aACL,eACA,UACA,CACF,CACF,CACF,yDC9DA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,MACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,uDCFA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAK,WAAE,CAAS,CAAE,GAAG,EAAoC,EAChE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,OACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,oFACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAW,WAAE,CAAS,CAAE,GAAG,EAAoC,EACtE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,cACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,2JACA,GAED,GAAG,CAAK,EAGf,CAEA,SAAS,EAAU,WAAE,CAAS,CAAE,GAAG,EAAoC,EACrE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,aACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,6BAA8B,GAC3C,GAAG,CAAK,EAGf,CAEA,SAAS,EAAgB,WAAE,CAAS,CAAE,GAAG,EAAoC,EAC3E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,mBACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,gCAAiC,GAC9C,GAAG,CAAK,EAGf,CAeA,SAAS,EAAY,WAAE,CAAS,CAAE,GAAG,EAAoC,EACvE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,YAAU,eACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,OAAQ,GACrB,GAAG,CAAK,EAGf,0IExDQ,IAdR,IAAA,EAAA,EAAA,CAAA,CAAA,KCCA,SAAS,EAAO,CAAG,CAAE,CAAK,EACxB,GAAmB,YAAf,AAA2B,OAApB,EACT,OAAO,EAAI,SACF,GACT,GAAI,EADa,KACN,CAAG,CAAA,CAElB,AAH6B,CDF7B,IAAA,EAAA,CCEqC,CDFrC,CAAA,CAAA,ECE0C,GAAG,CDDzC,EAAkB,OAAO,GAAG,CAAC,cAC7B,EAAM,CAAK,CAAC,QAAQ,IAAI,GAAG,QAAQ,GAAG,CAI1C,SAAS,EAAgB,CAAO,MAHT,EAIrB,GAJ0B,IAIR,MAAX,GAAsC,UAAnB,OAAO,GAAwB,aAAc,GAAW,EAAQ,QAAQ,GAAK,GAAmB,aAAc,GAHhH,QAG2H,EAH5I,OAAO,EAGmJ,EAAQ,QAAQ,GAHnI,OAAV,GAAkB,SAAU,CAIlE,CA4BA,IAAI,GAkBF,CAfM,EAAY,CAHT,CAGe,UAAU,CAAC,CAHb,AAGc,EAAO,CAHlB,IAIvB,GAAI,IAJ8B,MAI5B,CAAQ,CAAE,GAAG,EAAW,CAAG,EAIjC,GAHI,EAAgB,IAA4B,YAAf,AAA2B,OAApB,IACtC,EAAW,EAAI,EAAS,SAAQ,EAE9B,EAAM,cAAc,CAAC,GAAW,WAoDlC,IAnDM,GAkDW,EAlDiB,EAqDtC,CADI,EAFwB,AAEd,CACV,EAFS,CAnDW,MAmDJ,AAEP,wBAF+B,CAAC,EAAQ,KAAK,CAAE,QAAQ,MAC5C,mBAAoB,GAAU,EAAO,cAAc,EAElE,EAAQ,GAAG,EAGpB,EAAU,CADV,EAAS,OAAO,wBAAwB,CAAC,EAAS,QAAQ,GAAA,GACtC,mBAAoB,GAAU,EAAO,cAAA,AAAc,EAE9D,EAAQ,KAAK,CAAC,GAAG,CAEnB,EAAQ,KAAK,CAAC,GAAG,EAAI,EAAQ,GAAG,EA5D7B,EAAS,AAyBrB,SAAS,AAAW,CAAS,CAAE,CAAU,EACvC,IAAM,EAAgB,CAAE,GAAG,CAAU,AAAC,EACtC,IAAK,IAAM,KAAY,EAAY,CACjC,IAAM,EAAgB,CAAS,CAAC,EAAS,CACnC,EAAiB,CAAU,CAAC,EAAS,CACzB,WAAW,IAAI,CAAC,GAE5B,GAAiB,EACnB,CAAa,CAAC,EAAS,CAAG,CAAC,GAAG,KADK,AAEjC,IAAM,EAAS,KAAkB,GAEjC,OADA,KAAiB,GACV,CACT,EACS,IACT,CAAa,CAAC,EAAS,CAAG,CAAA,EAEN,GAHI,MAGK,CAAtB,EACT,CAAa,CAAC,EAAS,CAAG,CAAE,GAAG,CAAa,CAAE,GAAG,CAAc,AAAC,EAC1C,aAAa,CAA1B,IACT,CAAa,CAAC,EAAS,CAAG,CAAC,EAAe,EAAe,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,IAAA,CAEnF,CACA,MAAO,CAAE,GAAG,CAAS,CAAE,GAAG,CAAa,AAAC,CAC1C,EAhDgC,EAAW,EAAS,KAAK,EAInD,OAHI,EAAS,IAAI,GAAK,EAAM,QAAQ,EAAE,CACpC,EAAO,GAAG,CAAG,EAAe,AC1CpC,SAAS,AAAY,GAAG,CAAI,EAC1B,OAAO,AAAC,IACN,IAAI,GAAa,EACX,EAAW,EAAK,GAAG,CAAC,AAAC,IACzB,IAAM,EAAU,EAAO,EAAK,GAI5B,OAHI,AAAC,GAAgC,YAAlB,AAA8B,OAAvB,IACxB,GAAa,CAAA,EAER,CACT,GACA,GAAI,EACF,MAAO,IADO,CAEZ,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAE,IAAK,CACxC,IAAM,EAAU,CAAQ,CAAC,EAAE,CACL,YAAlB,AAA8B,OAAvB,EACT,IAEA,EAAO,CAAI,CAAC,EAAE,CAAE,KAEpB,CACF,CAEJ,CACF,EDmBgD,EAAc,GAAe,CAAA,EAEhE,EAAM,YAAY,CAAC,EAAU,EACtC,CACA,OAAO,EAAM,QAAQ,CAAC,KAAK,CAAC,GAAY,EAAI,EAAM,QAAQ,CAAC,IAAI,CAAC,MAAQ,IAC1E,IACU,WAAW,CAAG,GAAG,UAAU,IA3C/B,EA4CC,EAtBP,EAqB+C,CAAC,AA1ClC,EAAM,GADF,OACY,CAAC,CAAC,EAAO,EADR,GAAG,AAEhC,GAAI,UAAE,CAAQ,CAAE,CAFgC,EAE7B,EAAW,CAAG,CAC7B,GAAgB,IAA4B,YAAf,AAA2B,OAApB,IACtC,EAAW,EAAI,EAAS,SAAQ,EAElC,IAAM,EAAgB,EAAM,QAAQ,CAAC,OAAO,CAAC,GACvC,EAAY,EAAc,IAAI,CAAC,GACrC,GAAI,EAAW,CACb,IAAM,EAAa,EAAU,KAAK,CAAC,QAAQ,CACrC,EAAc,EAAc,GAAG,CAAC,AAAC,GACrC,AAAI,IAAU,EAIL,EAHP,AAAI,EAAM,KADa,GACL,CAAC,KAAK,CAAC,GAAc,EAAU,CAAP,CAAa,QAAQ,CAAC,IAAI,CAAC,MAC9D,EAAM,cAAc,CAAC,GAAc,EAAW,KAAK,CAAC,QAAQ,CAAG,MAK1E,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAG,EAAC,EAAW,CAAE,CAApB,EAAuB,CAAS,CAAE,IAAK,EAAc,SAAU,EAAM,cAAc,CAAC,GAAc,EAAM,YAAY,CAAC,EAAY,KAAK,EAAG,GAAe,IAAK,EACnL,CACA,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,CAAE,CAApB,EAAuB,CAAS,CAAE,IAAK,WAAc,CAAS,EACpF,IACM,WAAW,CAAG,GAAG,SAChB,CAD0B,EAwB/B,EAAuB,CAxBa,CAAC,KAwBP,mBAWlC,SAAS,EAAY,CAAK,EACxB,OAAO,EAAM,cAAc,CAAC,IAAgC,YAAtB,OAAO,EAAM,IAAI,EAAmB,cAAe,EAAM,IAAI,EAAI,EAAM,IAAI,CAAC,SAAS,GAAK,CAClI,2BD3DI,IAAA,EAAA,EAAA,CAAA,CAAA,OACJ,IAAM,EAAgB,AAAC,GAAyB,WAAjB,OAAO,EAAsB,CAAA,EAAG,EAAA,CAAO,CAAG,AAAU,MAAI,IAAM,EAChF,EAAK,EAAA,IAAI,cACH,CAAC,EAAM,IAAU,AAAD,IAC3B,IAAI,EACJ,GAAI,OAAC,EAAuC,KAAK,EAAI,EAArC,AAA4C,QAApC,AAAoC,AAAQ,GAAK,KAAM,GAA5C,IAAmD,CAA9C,CAAiD,QAAM,EAAqC,KAAK,EAAI,CAApC,CAA0C,KAAK,EAAvC,KAAyC,EAAqC,GAApE,EAAyE,EAAI,CAApC,AAApC,CAA8E,OAAlC,EAA2C,EACvN,GAAM,CAAE,EAD8K,KAAK,GAC3K,iBAAE,CAAe,CAAE,CAAG,EAChC,EAAuB,OAAO,IAAI,CAAC,GAAU,GAAG,CAAC,AAAC,IACpD,IAAM,EAAc,QAAqC,EAA3B,GAAgC,EAAI,CAAK,CAAC,CAAlC,CAA0C,CAC1E,QAD0C,AACrB,EAAyD,GAD/B,EACoC,EAAI,CAAe,CAAC,EAAQ,CACrH,GAAoB,GAD2B,IAC3C,EAAsB,EAD6B,KACtB,KACjC,IAAM,EAAa,EAAc,EAF0C,EAE1B,EAAc,CAFiB,EAGhF,OAAO,CAAQ,CAAC,EAAQ,CAAC,EAAW,AACxC,GACM,EAAwB,GAAS,OAAO,OAAO,CAAC,GAAO,MAAM,CAAC,CAAC,EAAK,KACtE,GAAI,CAAC,EAAK,EAAM,CAAG,SACL,SAAV,EAAqB,EAGzB,CAAG,CAAC,EAAI,CAAG,CAAA,EAFA,CAIf,EAAG,CAAC,GAkBJ,OAAO,EAAG,EAAM,QAjBqB,GAAgD,OAAC,CAAtC,CAAiE,EAAO,AAiBlF,KAjBkB,WAAW,AAAqD,AAAgB,EAAoD,GAApH,CAAsE,CAAmD,EAAI,AAAzH,EAAkJ,GAA7I,AAAqE,GAA8E,CAAC,CAAC,EAAK,KACvO,GAAI,CAAE,MAAO,CAAO,CAAE,KADyJ,KAC9I,AADmJ,CACxI,CAAE,GAAG,EAAwB,CAAG,EAC5E,OAAO,OAAO,OAAO,CAAC,GAAwB,KAAK,CAAC,AAAC,IACjD,GAAI,CAAC,EAAK,EAAM,CAAG,EACnB,OAAO,MAAM,OAAO,CAAC,GAAS,EAAM,QAAQ,CAAC,CACzC,GAAG,CAAe,CAClB,GAAG,CAAqB,AAC5B,CAAC,CAAC,EAAI,EAAI,CAAC,CACP,GAAG,CAAe,CAClB,GAAG,CAAqB,CAC5B,CAAC,AAAC,CAAC,EAAI,GAAK,CAChB,GAAK,IACE,EACH,EACA,EACH,CAAG,CACR,EAAG,EAAE,QAC+D,EAAqC,KAAK,EAAI,CAApC,CAA0C,KAAK,EAAvC,KAAyC,EAAqC,GAApE,EAAyE,EAAI,CAAxE,AAAoC,CAA0C,OAAlC,EAA2C,CAChM,OAD+J,KAAK,sCGpDxK,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAgB,CAAA,EAAA,EAAA,GAAA,AAAG,EACvB,mZACA,CACE,SAAU,CACR,QAAS,CACP,QACE,iFACF,UACE,uFACF,YACE,4KACF,QACE,wEACJ,CACF,EACA,gBAAiB,CACf,QAAS,SACX,CACF,GAGF,SAAS,EAAM,WACb,CAAS,SACT,CAAO,SACP,GAAU,CAAK,CACf,GAAG,EAEuD,EAC1D,IAAM,EAAO,EAAU,EAAA,IAAI,CAAG,OAE9B,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,YAAU,QACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,EAAc,SAAE,CAAQ,GAAI,GACzC,GAAG,CAAK,EAGf,qEC3CA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,yCAEA,IAAM,EAAmB,IAAI,EAAA,gBAAgB,CAE9B,eAAe,IAC5B,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,GACnC,CAAC,GAAS,MAAM,IAAI,AACtB,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,gBAGX,IAAM,EAAO,MAAM,EAAiB,gBAAgB,CAAC,EAAQ,IAAI,CAAC,EAAE,EAEpE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDAAwC,iBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,mFAKvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,sBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACQ,IAA5B,EAAK,WAAW,CAAC,MAAM,CACtB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,mCAE7C,EAAK,WAAW,CAAC,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,kCAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAK,KAAK,GACtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAA4B,UAAnB,EAAK,SAAS,CAAe,UAAY,qBACnC,UAAnB,EAAK,SAAS,CAAe,QAAU,mBAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCACV,EAAK,YAAY,CAAG,CAAC,cAAc,EAAE,EAAK,YAAY,CAAA,CAAE,CAAG,sBARtD,EAAK,EAAE,QAgBzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,oBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACS,IAA7B,EAAK,YAAY,CAAC,MAAM,CACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,gDAI7C,EAAK,YAAY,CAAC,GAAG,CAAC,AAAC,GACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAqB,UAAU,iCAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAQ,IAAI,GACxC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CAAgC,gBAC7B,EAAQ,YAAY,EAAE,sBAAwB,gBAGhE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,sBAAY,YAAU,EAAQ,QAAQ,QAR/C,EAAQ,EAAE,WAiB9B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,+BACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAA0B,EAAK,OAAO,CAAC,sBAAsB,GAC1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,kCAEvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAA0B,EAAK,OAAO,CAAC,kBAAkB,GACtE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,sCAMjD","ignoreList":[7,8,9]}