module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},66718,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(68114);function h({className:a,...c}){return(0,b.jsx)(f,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>h],70430)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},6015,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tfoot",{"data-slot":"table-footer",className:(0,c.cn)("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",a),...d})}function h({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function i({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function j({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function k({className:a,...d}){return(0,b.jsx)("caption",{"data-slot":"table-caption",className:(0,c.cn)("text-muted-foreground mt-4 text-sm",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCaption",()=>k,"TableCell",()=>j,"TableFooter",()=>g,"TableHead",()=>i,"TableHeader",()=>e,"TableRow",()=>h])},22777,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(91119),f=a.i(66718),g=a.i(70430),h=a.i(80701),i=a.i(29246);let j=[{label:"Week",value:"week"},{label:"Month",value:"month"},{label:"Quarter",value:"quarter"}];a.s(["ReflectionWizard",0,()=>{let[a,k]=(0,c.useState)("week"),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)({}),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)("idle"),[v,w]=(0,c.useState)(null),x=(0,c.useMemo)(()=>{if(!l)return null;let b=new Date(l);if(Number.isNaN(b.getTime()))return null;let c=new Date(b);return"week"===a?c.setDate(c.getDate()+6):"month"===a?(c.setMonth(c.getMonth()+1),c.setDate(c.getDate()-1)):"quarter"===a&&(c.setMonth(c.getMonth()+3),c.setDate(c.getDate()-1)),c},[l,a]),y=async()=>{if(!l||!x)return;u("loading"),w(null),o([]);let b=await fetch("/api/secure/reflections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({periodType:a,periodStart:l,periodEnd:x.toISOString()})});if(!b.ok){w((await b.json().catch(()=>({}))).message??"Unable to generate prompts"),u("idle");return}let c=await b.json();o(c.questions??[]),s(c.suggestions??[]),q({}),u("idle")},z=async()=>{if(!l||!x||!n.length)return;u("saving"),w(null);let b=await fetch("/api/secure/reflections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({periodType:a,periodStart:l,periodEnd:x.toISOString(),answers:n.map(a=>({question:a,answer:p[a]??""}))})});if(!b.ok){w((await b.json().catch(()=>({}))).message??"Unable to save reflection"),u("idle");return}u("idle"),o([]),s([]),q({})};return(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"New reflection"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Period type"}),(0,b.jsxs)(h.Select,{value:a,onValueChange:k,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsx)(h.SelectContent,{children:j.map(a=>(0,b.jsx)(h.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{children:"Start date"}),(0,b.jsx)(f.Input,{type:"date",value:l,onChange:a=>m(a.target.value)})]})]}),(0,b.jsx)(d.Button,{onClick:y,disabled:!l||"loading"===t,variant:"outline",children:"loading"===t?"Generating...":"Generate AI questions"}),v?(0,b.jsx)("p",{className:"text-sm text-destructive",children:v}):null,r.length?(0,b.jsxs)("div",{className:"rounded-lg border p-3 text-sm text-muted-foreground space-y-2",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Suggestions"}),(0,b.jsx)("ul",{className:"list-disc pl-4",children:r.map(a=>(0,b.jsx)("li",{children:a},a))})]}):null,n.length?(0,b.jsxs)("div",{className:"space-y-4",children:[n.map(a=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:a}),(0,b.jsx)(i.Textarea,{value:p[a]??"",onChange:b=>q(c=>({...c,[a]:b.target.value})),className:"min-h-[120px]"})]},a)),(0,b.jsx)(d.Button,{onClick:z,disabled:"saving"===t,children:"saving"===t?"Saving...":"Save reflection"})]}):null]})]})}])}];

//# sourceMappingURL=_1829f86e._.js.map